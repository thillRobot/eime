<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&oldid=3410 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 21 Apr 2021 17:55:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Night Rider S14 - TTU-EIME</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.1" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="http://ttu-eime.csc.tntech.edu/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://ttu-eime.csc.tntech.edu/opensearch_desc.php" title="TTU-EIME (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://ttu-eime.csc.tntech.edu/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="TTU-EIME Atom feed" href="http://ttu-eime.csc.tntech.edu/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://ttu-eime.csc.tntech.edu/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: ttu-eime-eide_:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="http://ttu-eime.csc.tntech.edu/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Night_Rider_S14","wgTitle":"Night Rider S14","wgCurRevisionId":3410,"wgArticleId":856,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Night_Rider_S14","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVectorEnabledModules":{"collapsiblenav":true,"collapsibletabs":true,"editwarning":false,"expandablesearch":false,"footercleanup":false,"sectioneditlinks":false,"simplesearch":true,"experiments":true},"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":false,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"vector-simplesearch":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: ttu-eime-eide_:resourceloader:filter:minify-js:7:f1c323892d8729f2c53ca1f4e41852b5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-c {line-height: normal;}
.source-c li, .source-c pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for c
 * CSS class: source-c, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.c.source-c .de1, .c.source-c .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.c.source-c  {font-family:monospace;}
.c.source-c .imp {font-weight: bold; color: red;}
.c.source-c li, .c.source-c .li1 {font-weight: normal; vertical-align:top;}
.c.source-c .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.c.source-c .li2 {font-weight: bold; vertical-align:top;}
.c.source-c .kw1 {color: #b1b100;}
.c.source-c .kw2 {color: #000000; font-weight: bold;}
.c.source-c .kw3 {color: #000066;}
.c.source-c .kw4 {color: #993333;}
.c.source-c .co1 {color: #666666; font-style: italic;}
.c.source-c .co2 {color: #339933;}
.c.source-c .coMULTI {color: #808080; font-style: italic;}
.c.source-c .es0 {color: #000099; font-weight: bold;}
.c.source-c .es1 {color: #000099; font-weight: bold;}
.c.source-c .es2 {color: #660099; font-weight: bold;}
.c.source-c .es3 {color: #660099; font-weight: bold;}
.c.source-c .es4 {color: #660099; font-weight: bold;}
.c.source-c .es5 {color: #006699; font-weight: bold;}
.c.source-c .br0 {color: #009900;}
.c.source-c .sy0 {color: #339933;}
.c.source-c .st0 {color: #ff0000;}
.c.source-c .nu0 {color: #0000dd;}
.c.source-c .nu6 {color: #208080;}
.c.source-c .nu8 {color: #208080;}
.c.source-c .nu12 {color: #208080;}
.c.source-c .nu16 {color:#800080;}
.c.source-c .nu17 {color:#800080;}
.c.source-c .nu18 {color:#800080;}
.c.source-c .nu19 {color:#800080;}
.c.source-c .me1 {color: #202020;}
.c.source-c .me2 {color: #202020;}
.c.source-c .ln-xtra, .c.source-c li.ln-xtra, .c.source-c div.ln-xtra {background-color: #ffc;}
.c.source-c span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "http://ttu-eime.csc.tntech.edu/index.php?title=MediaWiki:Geshi.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-matlab {line-height: normal;}
.source-matlab li, .source-matlab pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for matlab
 * CSS class: source-matlab, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.matlab.source-matlab .de1, .matlab.source-matlab .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.matlab.source-matlab  {font-family:monospace;}
.matlab.source-matlab .imp {font-weight: bold; color: red;}
.matlab.source-matlab li, .matlab.source-matlab .li1 {font-weight: normal; vertical-align:top;}
.matlab.source-matlab .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.matlab.source-matlab .li2 {font-weight: bold; vertical-align:top;}
.matlab.source-matlab .kw1 {color: #0000FF;}
.matlab.source-matlab .kw2 {color: #0000FF;}
.matlab.source-matlab .co1 {color: #228B22;}
.matlab.source-matlab .co2 {color:#A020F0;}
.matlab.source-matlab .br0 {color: #080;}
.matlab.source-matlab .sy0 {color: #080;}
.matlab.source-matlab .nu0 {color: #33f;}
.matlab.source-matlab .re0 {color: #33f;}
.matlab.source-matlab .ln-xtra, .matlab.source-matlab li.ln-xtra, .matlab.source-matlab div.ln-xtra {background-color: #ffc;}
.matlab.source-matlab span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "http://ttu-eime.csc.tntech.edu/index.php?title=MediaWiki:Geshi.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Night_Rider_S14 skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Night Rider S14</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From TTU-EIME</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"><div id="mw-revision-info">Revision as of 14:49, 12 May 2014 by <a href="http://ttu-eime.csc.tntech.edu/index.php?title=User:ME3610&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:ME3610 (page does not exist)">ME3610</a>  <span class="mw-usertoollinks">(<a href="http://ttu-eime.csc.tntech.edu/index.php?title=User_talk:ME3610&amp;action=edit&amp;redlink=1" class="new" title="User talk:ME3610 (page does not exist)">Talk</a> | <a href="http://ttu-eime.csc.tntech.edu/index.php/Special:Contributions/ME3610" title="Special:Contributions/ME3610">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;diff=prev&amp;oldid=3410" title="Night Rider S14">diff</a>) <a href="http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;direction=prev&amp;oldid=3410" title="Night Rider S14">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Abstract"><span class="tocnumber">1</span> <span class="toctext">Abstract</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Team_members"><span class="tocnumber">2</span> <span class="toctext">Team members</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Problem_Statement.2Foverview_of_the_need"><span class="tocnumber">3</span> <span class="toctext">Problem Statement/overview of the need</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Design_Specifications"><span class="tocnumber">4</span> <span class="toctext">Design Specifications</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Conceptual_Design"><span class="tocnumber">5</span> <span class="toctext">Conceptual Design</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Detailed_Design"><span class="tocnumber">6</span> <span class="toctext">Detailed Design</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Bill_of_Materials"><span class="tocnumber">6.1</span> <span class="toctext">Bill of Materials</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Sensor_Housing_Complications"><span class="tocnumber">7</span> <span class="toctext">Sensor Housing Complications</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Code_Listing"><span class="tocnumber">8</span> <span class="toctext">Code Listing</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Ultrasonic_Sensor_Testing"><span class="tocnumber">9</span> <span class="toctext">Ultrasonic Sensor Testing</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Summary_and_Conclusions"><span class="tocnumber">10</span> <span class="toctext">Summary and Conclusions</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Abstract"> Abstract </span></h2>
<p>The project required the team to create a system with which a visually-impaired child would be able to ride a tricycle without worrying about running into objects that came into the path of travel. The team was tasked with creating a proof of concept system that could be easily implemented onto the tricycle system at a later date.
</p>
<h2> <span class="mw-headline" id="Team_members"> Team members </span></h2>
<ul><li> Eli Ramsey
</li><li> JL Mitra
</li></ul>
<h2> <span class="mw-headline" id="Problem_Statement.2Foverview_of_the_need"> Problem Statement/overview of the need </span></h2>
<p>A young child with vision impairments has need of a tricycle system that can be ridden without fear of running into objects that may not be seen.
</p>
<h2> <span class="mw-headline" id="Design_Specifications"> Design Specifications  </span></h2>
<p>For this particular problem, the following specifications apply:
</p>
<ul><li> System needs to notify user of either clearest path or closest object
</li><li> Notifications should come to the user in adequate enough time for the user to react to information
</li><li> System needs to be implemented on a tricycle meant for a small child
</li><li> System should be completely self-contained to keep wires or other components from interfering with safe operation
</li></ul>
<h2> <span class="mw-headline" id="Conceptual_Design"> Conceptual Design </span></h2>
<p>Our conceptual design will make use of ultrasonic sensors mounted on the tricycle to detect obstacles in the user's path, and give feedback to the user via vibrating motors in the handlebars.
</p>
<h2> <span class="mw-headline" id="Detailed_Design"> Detailed Design </span></h2>
<p>Our design will make use of 3 ultrasonic sensors mounted between the tricycle handlebars to detect obstacles. Ultrasonic sensors were chosen due to sunlight causing interference issues with IR rangers. We chose the MaxBotix MB1200 sensors for their analog voltage output and a built-in ability to chain multiple sensors together to avoid cross-talk.
</p><p>These sensors are positioned such that a sensor is placed in the middle of two other sensors, facing directly ahead of the user at a 0 degree heading. The other two sensors are placed on either side of the middle sensor, angled slightly left and right of the middle sensor at 30 degree offsets.
</p><p>Using a resultant vector strategy, the readings from these three sensors will be used to determine feedback (position and intensity) on the vibrating motors under the left and right handlebars. Since each sensor has a known angle from the forward heading, the direction of each sensor's vector corresponds to its placement (offset angle). The analog voltage reading from each sensor determines the magnitude of that sensor's vector. Using trigonometric functions to decompose each sensor vector into X and Y component vectors, all three sensor's X components and Y components are summed to determine the X and Y components of the resultant vector. This resultant vector will then point in the direction of travel for the user in order to avoid obstacles detected by the sensors.
</p><p>In our implementation, the positive X-axis corresponds to the 0 degree forward heading, and the Y-axis corresponds to the left and right directions. Our feedback model makes use of taking the magnitude of the resultant vector to correspond to the duty cycle of the PWM signal sent to the motors (controlling vibration intensity), and the sign of the Y component of the resultant vector determines which motor to vibrate (positive Y vibrates the left motor, negative Y vibrates the right motor).
</p>
<h3> <span class="mw-headline" id="Bill_of_Materials"> Bill of Materials </span></h3>
<table class="wikitable">

<tr>
<th> Product
</th>
<th> Manufacturer
</th>
<th> Manufacturer Part Number
</th>
<th> Supplier
</th>
<th> Supplier Part Number
</th>
<th> URL
</th>
<th> Unit Price (USD)
</th>
<th> Quantity
</th>
<th> Total Part Price (USD)
</th></tr>
<tr>
<td> MaxBotix MB1200 XL-MaxSonar-EZ0
</td>
<td> MaxBotix
</td>
<td> MB1200
</td>
<td> MaxBotix
</td>
<td> MB1200
</td>
<td> <a rel="nofollow" class="external text" href="http://www.maxbotix.com/Ultrasonic_Sensors/MB1200.htm">Ultrasonic Sensor</a>
</td>
<td> 44.95
</td>
<td> 3
</td>
<td> 134.85
</td></tr>
<tr>
<td> Motor Driver
</td>
<td> Texas Instruments
</td>
<td> L293NE
</td>
<td> DigiKey
</td>
<td> 296-9519-5-ND
</td>
<td> <a rel="nofollow" class="external text" href="http://www.digikey.com/product-detail/en/L293NE/296-9519-5-ND/379722">Motor Driver</a>
</td>
<td> 3.75
</td>
<td> 5
</td>
<td> 18.75
</td></tr>
<tr>
<td>DIP Sockets for Motor Driver
</td>
<td> CNC Tech
</td>
<td> 243-16-1-03
</td>
<td> DigiKey
</td>
<td> 1175-1477-ND
</td>
<td> <a rel="nofollow" class="external text" href="http://www.digikey.com/product-detail/en/243-16-1-03/1175-1477-ND/3441570">Dip Sockets</a>
</td>
<td> 0.225
</td>
<td> 10
</td>
<td> 2.25
</td></tr>
<tr>
<td> Molex Female Connector Housing
</td>
<td> Molex Connector Corporation
</td>
<td> 22-01-2077
</td>
<td> DigiKey
</td>
<td> WM2016-ND
</td>
<td> <a rel="nofollow" class="external text" href="http://www.digikey.com/product-detail/en/22-01-2077/WM2016-ND/171996">Female Connector Housing</a>
</td>
<td> 0.381
</td>
<td> 20
</td>
<td> 7.62
</td></tr>
<tr>
<td> Connector Crimps
</td>
<td> Molex, Inc.
</td>
<td> 0008500159
</td>
<td> DigiKey
</td>
<td> WM9847CT-ND
</td>
<td> <a rel="nofollow" class="external text" href="http://www.digikey.com/product-detail/en/0008500159/WM9847CT-ND/3071499">Connector Crimps</a>
</td>
<td> 0.124
</td>
<td> 50
</td>
<td> 6.19
</td></tr>
<tr>
<td> Flat Rainbow Ribbon Cable
</td>
<td> Assmann WSW Components
</td>
<td> AWG28-08/F-1/300-R
</td>
<td> DigiKey
</td>
<td> AE08B-50-ND
</td>
<td> <a rel="nofollow" class="external text" href="http://www.digikey.com/product-detail/en/AWG28-08%2FF-1%2F300-R/AE08B-50-ND/2391615">Ribbon Cable</a>
</td>
<td> 24.23
</td>
<td> 1
</td>
<td> 24.23
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td> Total
</td>
<td> 193.89
</td></tr></table>
<h2> <span class="mw-headline" id="Sensor_Housing_Complications"> Sensor Housing Complications </span></h2>
<p>Upon completion of the code for this project, the team mounted the three sensors in the housing unit created by the previous design team. When testing this setup, we found that the sensors gave improper readings when resting on a stand. The team believes that this is due to some resonance in the mount caused by the ultrasonic sensors. Our recommendations for this are to create a new sensor housing unit using a material that will be less affected by resonance from the sensors.
</p><p>Because the team was unable to proceed with the project as a whole, we decided to test our code using one sensor and prove that what we had completed would work when ported over to the next stage of development.
</p>
<h2> <span class="mw-headline" id="Code_Listing"> Code Listing </span></h2>
<p>Source code for ultrasonic sensors running on a Dragon12-Plus2 development board.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="c source-c"><pre class="de1"><span class="coMULTI">/***********************************************
* ECE/ME 4370 US Sensor Demo                   *
* J.L. Mitra (jlmitra42@students.tntech.edu)   *
* Eli Ramsey (egramsey21@students.tntech.edu)  *
* 06 May 2014                                  *
************************************************/</span>
&#160;
<span class="co2">#include &lt;stdio.h&gt;</span>
<span class="co2">#include &quot;MCU.h&quot;</span>
&#160;
<span class="kw4">void</span> main<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
  <span class="kw4">int</span> data<span class="sy0">,</span> data_l<span class="sy0">,</span> data_h<span class="sy0">;</span>
  <span class="kw4">char</span> <span class="sy0">*</span>message<span class="sy0">;</span>
&#160;
  PLL_init<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  ad1_enable<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  lcd_init<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  SCI0_init<span class="br0">&#40;</span><span class="nu0">9600</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
  message <span class="sy0">=</span> <span class="st0">&quot;SW5: start&quot;</span><span class="sy0">;</span>
  set_lcd_addr<span class="br0">&#40;</span><span class="nu12">0x00</span><span class="br0">&#41;</span><span class="sy0">;</span>
  type_lcd<span class="br0">&#40;</span>message<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="kw1">while</span> <span class="br0">&#40;</span><span class="sy0">!</span>SW5_down<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// Wait for SW5 press</span>
  message <span class="sy0">=</span> <span class="st0">&quot;Sending data... &quot;</span><span class="sy0">;</span>
  set_lcd_addr<span class="br0">&#40;</span><span class="nu12">0x00</span><span class="br0">&#41;</span><span class="sy0">;</span>
  type_lcd<span class="br0">&#40;</span>message<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
&#160;
  <span class="kw1">while</span> <span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span>
  <span class="br0">&#123;</span>
    data <span class="sy0">=</span> ad1conv<span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span>
    set_lcd_addr<span class="br0">&#40;</span><span class="nu12">0x40</span><span class="br0">&#41;</span><span class="sy0">;</span>
    write_int_lcd<span class="br0">&#40;</span>data<span class="br0">&#41;</span><span class="sy0">;</span>
    data_l <span class="sy0">=</span> data <span class="sy0">&amp;</span> <span class="nu12">0x00FF</span><span class="sy0">;</span>
    data_h <span class="sy0">=</span> data <span class="sy0">&gt;&gt;</span> <span class="nu0">8</span><span class="sy0">;</span>
    outchar0<span class="br0">&#40;</span><span class="br0">&#40;</span><span class="kw4">char</span><span class="br0">&#41;</span>data_l<span class="br0">&#41;</span><span class="sy0">;</span>
    outchar0<span class="br0">&#40;</span><span class="br0">&#40;</span><span class="kw4">char</span><span class="br0">&#41;</span>data_h<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>Source code for real-time plotting of ultrasonic sensor readings using MATLAB.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="matlab source-matlab"><pre class="de1"><span class="kw1">function</span> dragon2matlab_cont<span class="br0">&#40;</span><span class="br0">&#41;</span>;
keepLooping = true; <span class="co1">% loop until false</span>
lHandle = <span class="kw2">line</span><span class="br0">&#40;</span><span class="kw2">nan</span>, <span class="kw2">nan</span><span class="br0">&#41;</span>; <span class="co1">% Generate a blank line, return the line handle</span>
loopCounter = <span class="nu0">1</span>; <span class="co1">% keep track of iterations</span>
timeOffset = <span class="nu0">0.01024</span>*<span class="nu0">6</span>; <span class="co1">% not perfect, but close</span>
s = serial<span class="br0">&#40;</span><span class="co2">'COM7'</span>,<span class="co2">'BaudRate'</span>, <span class="nu0">9600</span>, <span class="co2">'DataBits'</span>, <span class="nu0">8</span><span class="br0">&#41;</span>;
<span class="kw2">fopen</span><span class="br0">&#40;</span>s<span class="br0">&#41;</span>;
C = onCleanup<span class="br0">&#40;</span>@<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="kw2">fclose</span><span class="br0">&#40;</span>s<span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="co1">% close the connection when quit (CTRL+C)</span>
&#160;
<span class="kw1">while</span> keepLooping
    X = <span class="kw2">get</span><span class="br0">&#40;</span>lHandle, <span class="co2">'XData'</span><span class="br0">&#41;</span>;
    Y = <span class="kw2">get</span><span class="br0">&#40;</span>lHandle, <span class="co2">'YData'</span><span class="br0">&#41;</span>;
&#160;
    data = <span class="kw2">fread</span><span class="br0">&#40;</span>s, <span class="nu0">1</span>, <span class="co2">'int16'</span><span class="br0">&#41;</span> * <span class="br0">&#40;</span><span class="nu0">5</span>/<span class="nu0">1024</span><span class="br0">&#41;</span>;
    time = <span class="br0">&#40;</span>loopCounter - <span class="nu0">1</span><span class="br0">&#41;</span> * timeOffset; 
    X = <span class="br0">&#91;</span>X time<span class="br0">&#93;</span>;
    Y = <span class="br0">&#91;</span>Y data<span class="br0">&#93;</span>;
&#160;
    <span class="kw2">set</span><span class="br0">&#40;</span>lHandle, <span class="co2">'XData'</span>, X, <span class="co2">'YData'</span>, Y<span class="br0">&#41;</span>;
    loopCounter=loopCounter+<span class="nu0">1</span>;
    <span class="kw2">title</span><span class="br0">&#40;</span><span class="co2">'Ultrasonic Sensor Voltage'</span>,<span class="co2">'FontSize'</span>,<span class="nu0">14</span><span class="br0">&#41;</span>;
    <span class="kw2">xlabel</span><span class="br0">&#40;</span><span class="co2">'Time (s)'</span>,<span class="co2">'FontSize'</span>,<span class="nu0">12</span><span class="br0">&#41;</span>;
    <span class="kw2">ylabel</span><span class="br0">&#40;</span><span class="co2">'Sensor Voltage (V)'</span>,<span class="co2">'FontSize'</span>,<span class="nu0">12</span><span class="br0">&#41;</span>;
    <span class="kw2">drawnow</span>;
<span class="kw1">end</span></pre></div></div>
<h2> <span class="mw-headline" id="Ultrasonic_Sensor_Testing"> Ultrasonic Sensor Testing </span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="http://ttu-eime.csc.tntech.edu/index.php/File:S14_Night_Rider_Lab_Sweep_1.png" class="image"><img alt="" src="http://ttu-eime.csc.tntech.edu/images/thumb/e/ec/S14_Night_Rider_Lab_Sweep_1.png/200px-S14_Night_Rider_Lab_Sweep_1.png" width="200" height="95" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://ttu-eime.csc.tntech.edu/index.php/File:S14_Night_Rider_Lab_Sweep_1.png" class="internal" title="Enlarge"><img src="http://ttu-eime.csc.tntech.edu/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Ultrasonic sensor voltage reading doing manual sweep over small sample area in Mechatronics lab.</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="http://ttu-eime.csc.tntech.edu/index.php/File:S14_Night_Rider_Lab_Sweep_2.png" class="image"><img alt="" src="http://ttu-eime.csc.tntech.edu/images/thumb/9/98/S14_Night_Rider_Lab_Sweep_2.png/200px-S14_Night_Rider_Lab_Sweep_2.png" width="200" height="151" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://ttu-eime.csc.tntech.edu/index.php/File:S14_Night_Rider_Lab_Sweep_2.png" class="internal" title="Enlarge"><img src="http://ttu-eime.csc.tntech.edu/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Ultrasonic sensor voltage reading doing manual sweep over full open room in Brown 208.</div></div></div>
<p>Upon completion of the code listed in the previous section, the team tested the code and a single sensor using two methods. First, the team went into the Mechatronics lab at Tennessee Technological University and went to one of the workbenches. We then ran the program and passed the sensor back and forth around a U-shaped area between the work benches. The results of this test can be seen in the first image located to the right.
</p><p>For further testing, the team went into Brown Hall room 208 and, after raising the sensor system above the desk and chair space, the program was run and the team performed a sweep around the room. The results were then graphed and can be seen in the second image located to the right.
</p>
<h2> <span class="mw-headline" id="Summary_and_Conclusions"> Summary and Conclusions </span></h2>
<p>The design team was tasked with improving the design of a tricycle meant for a child with vision impairment. To accomplish this, the team chose to redesign the code and mount new sensors. However, while trying to implement the changes, the team ran into difficulties that prevented them from fully completing the project as specified. Because of this, the team performed an experiment that would show that the code that had been created would be sufficient to accomplish the task at a later date.
</p><p>Design teams in the future will need to create a new sensor housing unit that will not react to the resonance of the sensors. In addition to this, a future team will need to implement the output from the board to the motors for feedback. The current design team believes that this process will be relatively simple to implement given the code that has been completed. When these changes are implemented, the most important aspect will be ensuring the wiring is clean and easy to maintain when the final product is constructed.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 60/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key ttu-eime-eide_:pcache:idhash:856-0!*!*!!en!2!* and timestamp 20210421165254 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;oldid=3410">http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;oldid=3410</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-anonuserpage"><a href="http://ttu-eime.csc.tntech.edu/index.php/User:149.149.96.196" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">149.149.96.196</a></li>
		<li id="pt-anontalk"><a href="http://ttu-eime.csc.tntech.edu/index.php/User_talk:149.149.96.196" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
		<li id="pt-anonlogin"><a href="http://ttu-eime.csc.tntech.edu/index.php?title=Special:UserLogin&amp;returnto=Night+Rider+S14&amp;returntoquery=oldid%3D3410" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="http://ttu-eime.csc.tntech.edu/index.php/Night_Rider_S14"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://ttu-eime.csc.tntech.edu/index.php?title=Talk:Night_Rider_S14&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://ttu-eime.csc.tntech.edu/index.php/Night_Rider_S14" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://ttu-eime.csc.tntech.edu/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search TTU-EIME [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(http://ttu-eime.csc.tntech.edu/images/purp_ttu_b.gif);" href="http://ttu-eime.csc.tntech.edu/index.php/Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="http://ttu-eime.csc.tntech.edu/index.php/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-About-EIME"><a href="http://ttu-eime.csc.tntech.edu/index.php/About_EIME">About EIME</a></li>
			<li id="n-Projects-by-semester"><a href="http://ttu-eime.csc.tntech.edu/index.php/Projects_by_semester">Projects by semester</a></li>
			<li id="n-Projects-by-category"><a href="http://ttu-eime.csc.tntech.edu/index.php/Projects_by_category">Projects by category</a></li>
			<li id="n-portal"><a href="http://ttu-eime.csc.tntech.edu/index.php/TTU-EIME:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-currentevents"><a href="http://ttu-eime.csc.tntech.edu/index.php/TTU-EIME:Current_events" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="http://ttu-eime.csc.tntech.edu/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="http://ttu-eime.csc.tntech.edu/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="http://ttu-eime.csc.tntech.edu/index.php/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://ttu-eime.csc.tntech.edu/index.php/Special:WhatLinksHere/Night_Rider_S14" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://ttu-eime.csc.tntech.edu/index.php/Special:RecentChangesLinked/Night_Rider_S14" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://ttu-eime.csc.tntech.edu/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;oldid=3410&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&amp;oldid=3410" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 12 May 2014, at 14:49.</li>
											<li id="footer-info-viewcount">This page has been accessed 5,294 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://ttu-eime.csc.tntech.edu/index.php/TTU-EIME:Privacy_policy" title="TTU-EIME:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="http://ttu-eime.csc.tntech.edu/index.php/TTU-EIME:About" title="TTU-EIME:About">About TTU-EIME</a></li>
											<li id="footer-places-disclaimer"><a href="http://ttu-eime.csc.tntech.edu/index.php/TTU-EIME:General_disclaimer" title="TTU-EIME:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="http://ttu-eime.csc.tntech.edu/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="http://ttu-eime.csc.tntech.edu/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","ext.vector.collapsibleNav","ext.vector.collapsibleTabs","ext.vector.simpleSearch"], null, true);
}</script>
<!-- Served in 0.110 secs. -->
	</body>

<!-- Mirrored from ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&oldid=3410 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 21 Apr 2021 17:55:19 GMT -->
</html>

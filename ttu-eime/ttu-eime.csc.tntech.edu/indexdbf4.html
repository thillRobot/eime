<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 21 Apr 2021 17:55:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>View source for Night Rider S14 - TTU-EIME</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.1" />
<link rel="next" href="index.php/Night_Rider_S14.html" />
<link rel="shortcut icon" href="favicon.html" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="TTU-EIME (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="TTU-EIME Atom feed" href="index890f.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="loadeb8e.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: ttu-eime-eide_:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="load8478.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Night_Rider_S14","wgTitle":"Night Rider S14","wgCurRevisionId":3410,"wgArticleId":856,"wgIsArticle":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Night_Rider_S14","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVectorEnabledModules":{"collapsiblenav":true,"collapsibletabs":true,"editwarning":false,"expandablesearch":false,"footercleanup":false,"sectioneditlinks":false,"simplesearch":true,"experiments":true},"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":false,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"vector-simplesearch":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: ttu-eime-eide_:resourceloader:filter:minify-js:7:f1c323892d8729f2c53ca1f4e41852b5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Night_Rider_S14 skin-vector action-edit">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">View source for Night Rider S14</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- subtitle -->
				<div id="contentSub">‚Üê <a href="index.php/Night_Rider_S14.html" title="Night Rider S14">Night Rider S14</a></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in one of the groups: <a href="index.php/TTU-EIME_Administrators.html?title=TTU-EIME:Administrators&amp;action=edit&amp;redlink=1" class="new" title="TTU-EIME:Administrators (page does not exist)">Administrators</a>, editor.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">== Abstract ==
The project required the team to create a system with which a visually-impaired child would be able to ride a tricycle without worrying about running into objects that came into the path of travel. The team was tasked with creating a proof of concept system that could be easily implemented onto the tricycle system at a later date.

== Team members ==
* Eli Ramsey
* JL Mitra

== Problem Statement/overview of the need ==
A young child with vision impairments has need of a tricycle system that can be ridden without fear of running into objects that may not be seen.

== Design Specifications  ==
For this particular problem, the following specifications apply:
* System needs to notify user of either clearest path or closest object
* Notifications should come to the user in adequate enough time for the user to react to information
* System needs to be implemented on a tricycle meant for a small child
* System should be completely self-contained to keep wires or other components from interfering with safe operation

== Conceptual Design ==
Our conceptual design will make use of ultrasonic sensors mounted on the tricycle to detect obstacles in the user's path, and give feedback to the user via vibrating motors in the handlebars.

== Detailed Design ==
Our design will make use of 3 ultrasonic sensors mounted between the tricycle handlebars to detect obstacles. Ultrasonic sensors were chosen due to sunlight causing interference issues with IR rangers. We chose the MaxBotix MB1200 sensors for their analog voltage output and a built-in ability to chain multiple sensors together to avoid cross-talk.

These sensors are positioned such that a sensor is placed in the middle of two other sensors, facing directly ahead of the user at a 0 degree heading. The other two sensors are placed on either side of the middle sensor, angled slightly left and right of the middle sensor at 30 degree offsets.

Using a resultant vector strategy, the readings from these three sensors will be used to determine feedback (position and intensity) on the vibrating motors under the left and right handlebars. Since each sensor has a known angle from the forward heading, the direction of each sensor's vector corresponds to its placement (offset angle). The analog voltage reading from each sensor determines the magnitude of that sensor's vector. Using trigonometric functions to decompose each sensor vector into X and Y component vectors, all three sensor's X components and Y components are summed to determine the X and Y components of the resultant vector. This resultant vector will then point in the direction of travel for the user in order to avoid obstacles detected by the sensors.

In our implementation, the positive X-axis corresponds to the 0 degree forward heading, and the Y-axis corresponds to the left and right directions. Our feedback model makes use of taking the magnitude of the resultant vector to correspond to the duty cycle of the PWM signal sent to the motors (controlling vibration intensity), and the sign of the Y component of the resultant vector determines which motor to vibrate (positive Y vibrates the left motor, negative Y vibrates the right motor).

=== Bill of Materials ===
{| class = "wikitable"
|-
! Product
! Manufacturer
! Manufacturer Part Number
! Supplier
! Supplier Part Number
! URL
! Unit Price (USD)
! Quantity
! Total Part Price (USD)
|-
| MaxBotix MB1200 XL-MaxSonar-EZ0
| MaxBotix
| MB1200
| MaxBotix
| MB1200
| [http://www.maxbotix.com/Ultrasonic_Sensors/MB1200.htm Ultrasonic Sensor]
| 44.95
| 3
| 134.85
|-
| Motor Driver
| Texas Instruments
| L293NE
| DigiKey
| 296-9519-5-ND
| [http://www.digikey.com/product-detail/en/L293NE/296-9519-5-ND/379722 Motor Driver]
| 3.75
| 5
| 18.75
|-
|DIP Sockets for Motor Driver
| CNC Tech
| 243-16-1-03
| DigiKey
| 1175-1477-ND
| [http://www.digikey.com/product-detail/en/243-16-1-03/1175-1477-ND/3441570 Dip Sockets]
| 0.225
| 10
| 2.25
|-
| Molex Female Connector Housing
| Molex Connector Corporation
| 22-01-2077
| DigiKey
| WM2016-ND
| [http://www.digikey.com/product-detail/en/22-01-2077/WM2016-ND/171996 Female Connector Housing]
| 0.381
| 20
| 7.62
|-
| Connector Crimps
| Molex, Inc.
| 0008500159
| DigiKey
| WM9847CT-ND
| [http://www.digikey.com/product-detail/en/0008500159/WM9847CT-ND/3071499 Connector Crimps]
| 0.124
| 50
| 6.19
|-
| Flat Rainbow Ribbon Cable
| Assmann WSW Components
| AWG28-08/F-1/300-R
| DigiKey
| AE08B-50-ND
| [http://www.digikey.com/product-detail/en/AWG28-08%2FF-1%2F300-R/AE08B-50-ND/2391615 Ribbon Cable]
| 24.23
| 1
| 24.23
|-
|
|
|
|
|
|
|
| Total
| 193.89
|}

== Sensor Housing Complications ==
Upon completion of the code for this project, the team mounted the three sensors in the housing unit created by the previous design team. When testing this setup, we found that the sensors gave improper readings when resting on a stand. The team believes that this is due to some resonance in the mount caused by the ultrasonic sensors. Our recommendations for this are to create a new sensor housing unit using a material that will be less affected by resonance from the sensors.

Because the team was unable to proceed with the project as a whole, we decided to test our code using one sensor and prove that what we had completed would work when ported over to the next stage of development.

== Code Listing ==
Source code for ultrasonic sensors running on a Dragon12-Plus2 development board.

&lt;source lang="c">
/***********************************************
* ECE/ME 4370 US Sensor Demo                   *
* J.L. Mitra (jlmitra42@students.tntech.edu)   *
* Eli Ramsey (egramsey21@students.tntech.edu)  *
* 06 May 2014                                  *
************************************************/

#include &lt;stdio.h>
#include "MCU.h"

void main(void)
{
  int data, data_l, data_h;
  char *message;
    
  PLL_init();
  ad1_enable();
  lcd_init();
  SCI0_init(9600);

  message = "SW5: start";
  set_lcd_addr(0x00);
  type_lcd(message);
  while (!SW5_down()); // Wait for SW5 press
  message = "Sending data... ";
  set_lcd_addr(0x00);
  type_lcd(message);
  
  
  while (1)
  {
    data = ad1conv(0);
    set_lcd_addr(0x40);
    write_int_lcd(data);
    data_l = data &amp; 0x00FF;
    data_h = data >> 8;
    outchar0((char)data_l);
    outchar0((char)data_h);
  }
}
&lt;/source>

Source code for real-time plotting of ultrasonic sensor readings using MATLAB.

&lt;source lang="matlab">
function dragon2matlab_cont();
keepLooping = true; % loop until false
lHandle = line(nan, nan); % Generate a blank line, return the line handle
loopCounter = 1; % keep track of iterations
timeOffset = 0.01024*6; % not perfect, but close
s = serial('COM7','BaudRate', 9600, 'DataBits', 8);
fopen(s);
C = onCleanup(@()fclose(s)); % close the connection when quit (CTRL+C)

while keepLooping
    X = get(lHandle, 'XData');
    Y = get(lHandle, 'YData');
    
    data = fread(s, 1, 'int16') * (5/1024);
    time = (loopCounter - 1) * timeOffset; 
    X = [X time];
    Y = [Y data];

    set(lHandle, 'XData', X, 'YData', Y);
    loopCounter=loopCounter+1;
    title('Ultrasonic Sensor Voltage','FontSize',14);
    xlabel('Time (s)','FontSize',12);
    ylabel('Sensor Voltage (V)','FontSize',12);
    drawnow;
end
&lt;/source>

== Ultrasonic Sensor Testing ==
[[File:S14_Night_Rider_Lab_Sweep_1.png|200px|thumb|right|Ultrasonic sensor voltage reading doing manual sweep over small sample area in Mechatronics lab.]]

[[File:S14_Night_Rider_Lab_Sweep_2.png|200px|thumb|right|Ultrasonic sensor voltage reading doing manual sweep over full open room in Brown 208.]]

Upon completion of the code listed in the previous section, the team tested the code and a single sensor using two methods. First, the team went into the Mechatronics lab at Tennessee Technological University and went to one of the workbenches. We then ran the program and passed the sensor back and forth around a U-shaped area between the work benches. The results of this test can be seen in the first image located to the right.

For further testing, the team went into Brown Hall room 208 and, after raising the sensor system above the desk and chair space, the program was run and the team performed a sweep around the room. The results were then graphed and can be seen in the second image located to the right.

== Summary and Conclusions ==
The design team was tasked with improving the design of a tricycle meant for a child with vision impairment. To accomplish this, the team chose to redesign the code and mount new sensors. However, while trying to implement the changes, the team ran into difficulties that prevented them from fully completing the project as specified. Because of this, the team performed an experiment that would show that the code that had been created would be sufficient to accomplish the task at a later date.

Design teams in the future will need to create a new sensor housing unit that will not react to the resonance of the sensors. In addition to this, a future team will need to implement the output from the board to the motors for feedback. The current design team believes that this process will be relatively simple to implement given the code that has been completed. When these changes are implemented, the most important aspect will be ensuring the wiring is clean and easy to maintain when the final product is constructed.
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="index.php/Night_Rider_S14.html" title="Night Rider S14">Night Rider S14</a>.</p>
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="index.php/Night_Rider_S14.html">http://ttu-eime.csc.tntech.edu/index.php/Night_Rider_S14</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-anonuserpage"><a href="index.php/User_149.149.96.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">149.149.96.196</a></li>
		<li id="pt-anontalk"><a href="index.php/User_talk_149.149.96.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
		<li id="pt-anonlogin"><a href="indexadcd.html?title=Special:UserLogin&amp;returnto=Night+Rider+S14&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="index.php/Night_Rider_S14.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="index.php/Talk_Night_Rider_S14.html?title=Talk:Night_Rider_S14&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view"><span><a href="index.php/Night_Rider_S14.html" >Read</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="indexdbf4.html?title=Night_Rider_S14&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="index4fcd.html?title=Night_Rider_S14&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://ttu-eime.csc.tntech.edu/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search TTU-EIME [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(images/purp_ttu_b.gif);" href="index.php/Main_Page.html"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="index.php/Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-About-EIME"><a href="index.php/About_EIME.html">About EIME</a></li>
			<li id="n-Projects-by-semester"><a href="index.php/Projects_by_semester.html">Projects by semester</a></li>
			<li id="n-Projects-by-category"><a href="index.php/Projects_by_category.html">Projects by category</a></li>
			<li id="n-portal"><a href="index.php/TTU-EIME_Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-currentevents"><a href="index.php/TTU-EIME_Current_events.html" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="index.php/Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="index.php/Special_Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="index.php/Help_Contents.html" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="index.php/Special_WhatLinksHere/Night_Rider_S14.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="index.php/Special_RecentChangesLinked/Night_Rider_S14.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="index.php/Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="index.php/TTU-EIME_Privacy_policy.html" title="TTU-EIME:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="index.php/TTU-EIME_About.html" title="TTU-EIME:About">About TTU-EIME</a></li>
											<li id="footer-places-disclaimer"><a href="index.php/TTU-EIME_General_disclaimer.html" title="TTU-EIME:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="loadecbf.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","ext.vector.collapsibleNav","ext.vector.collapsibleTabs","ext.vector.simpleSearch"], null, true);
}</script>
<!-- Served in 0.168 secs. -->
	</body>

<!-- Mirrored from ttu-eime.csc.tntech.edu/index.php?title=Night_Rider_S14&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 21 Apr 2021 17:55:22 GMT -->
</html>
